### 一、完全背包

有 N 件物品和一个最多能背重量为 W 的背包。第 i 件物品的重量是 weight [i]，得到的价值是 value [i] 。**每件物品都有无限个（也就是可以放入背包多次）**，求解将哪些物品装入背包里物品价值总和最大。

**完全背包和 01 背包问题唯一不同的地方就是，每种物品有无限件**。

示例题目：

背包最大重量为4。物品为：

| 物品  | 重量 | 价值 |
| :---- | :--: | ---- |
| 物品0 |  1   | 15   |
| 物品1 |  3   | 20   |
| 物品2 |  4   | 30   |

**每件商品都有无限个！**问背包能背的物品最大价值是多少？

### 二、分析

完全背包和 01背包的不同在于内层循环遍历顺序上。

* 01背包

  我们知道01背包的内嵌循环（遍历背包容量）采用倒序遍历的方式，这种方式保证转移来的是上一行的元素值。而不是本行已经被更新过的状态。进而保证每个物品只会被放入一次。

  ```java
  for(int i = 0; i < weight.size(); i++) { // 遍历物品
      for(int j = bagWeight; j >= weight[i]; j--) { // 遍历背包容量
          dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
      }
  }
  ```

* 完全背包

  完全背包的物品是可以被添加多次的，可以是本行已经被更新过的dp[j]。内嵌循环采用从小到大的遍历顺序。

  ```cpp
  for(int i = 0; i < weight.size(); i++) { // 遍历物品
      for(int j = weight[i]; j < bagWeight ; j++) { // 遍历背包容量
          dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);
      }
  }
  ```

对于两个for循环的先后顺序，先遍历物品还是先遍历背包容量？

0-1背包中，一维 dp 数组的两个 for 循环先后循序一定是先遍历物品，再遍历背包容量。

在纯完全背包问题中，通常对于一维 dp 数组来说，两个 for 循环嵌套顺序是无所谓的！因为 dp [j] 是根据 下标 j 之前所对应的 dp [j] 计算出来的。 只要保证下标 j 之前的 dp [j] 都是经过计算的就可以了。

但是具体要依据具体题目而定，因为并不是纯完全背包问题，题目都有变化。比如问装满背包有几种方式的话？ 那么两个 for 循环的先后顺序就有很大区别了。