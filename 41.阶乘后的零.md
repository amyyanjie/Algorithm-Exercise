---
title: 41.阶乘后的零
english_title: factorial-trailing-zeroes
date: 2020-06-03 09:25:12
tags: LeetCode
categories: /DataStructure
---

## 题目
给定一个整数 n，返回 n! 结果尾数中零的数量。
**示例 1:**

```
输入: 3
输出: 0
解释: 3! = 6, 尾数中没有零。
```
**示例 2:**

```
输入: 5
输出: 1
解释: 5! = 120, 尾数中有 1 个零。
```
**说明: 你算法的时间复杂度应为 O(log n) 。**

## 题解

**分析：**

* 直接计算阶乘结果不可行，很快就会溢出，超过Interger最大值。

* 要出现尾数为0，可能情况：`2的倍数*5的倍数`。

* 可以分解成`最小因子2*最小因子 5`，而且`2*5`=10，尾数中零的数量+1。

* 即求2和5配对的数量。

* 最小因子2的出现频率高于5。因为只要为偶数，最小因子都为2。

**注意：**

* 例如30，可以分解成7个5，含有7个最小因子5
* 30!中能构成5的情况：30，25，20，15，10，5。
* 其中25：尾数2个零（`25*2=50;50*4=200`）。
* 即`30/5=6;`，`30/5/5=1;`，共7个。
```java
    public static int trailingZeroes(int n) {
        int count = 0;
        while (n / 5 > 0) {
            count += n / 5;
            n /= 5;  //含5因子的数中还能分出5因子。
        }
        return count;
    }
```

**思考：为什么要不断除以5，怎么理解？**

每隔5个数就有一个数被5整除，因此5的倍数的数量为：n/5

每隔25个数就有一个数被25整除，因此25的倍数的数量为：n/25

每隔125个数······

因此结果=n/5 + n/25 + n/125  + ...

[题目链接：LeetCode.No.172.阶乘后的零](https://leetcode-cn.com/problems/factorial-trailing-zeroes)