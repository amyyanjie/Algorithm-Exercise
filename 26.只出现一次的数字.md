---
title: 26.只出现一次的数字
english_title: single-number
date: 2020-04-08 17:23:22
tags: LeetCode
categories:  /DataStructure

---

## 题目

给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。

说明：

你的算法应该具有**线性时间复杂度**。 你可以**不使用额外空间**来实现吗？

示例 1:

```
输入: [2,2,1]
输出: 1
```

示例 2:

```
输入: [4,1,2,1,2]
输出: 4
```

## 题解

### 思路一：列表操作

List/Map/Set均可。

```java
public int singleNumber(int[] nums) {
        Set<Integer> set = new HashSet<>();
        for (int num : nums) {
            if (!set.add(num)) {
                set.remove(num);
            }
        }
        return set.iterator().next();
    }
```

* 时间复杂度：O(n)
* 空间复杂度：O(n)

### 思路二：位操作

> **位运算符概念：**

> 位运算符主要针对二进制，按照低位到高位一一对齐运算。包括：”与“、”或“、”非“、”异或“。
>
> * ”与“运算符：相对应位都为1，结果才为1。否则为0。
>   
>   ```java
>   0 & 0 = 0;
>   1 & 0 = 0;
>   1 & 1 = 1;
>   ```
> 
> 
> * ”或“运算符：相对应位只要有一个为1，结果就为1。否则为0。
> 
>   ```java
>   0 | 0 = 0;
>   1 | 0 = 1;
>   1 | 1 = 1;
>
>   ```
> 


> 逻辑运算符"&&"和"||"与位运算符"&"和"|"的区别："&&"和"||"运算具有短路计算功能。


> 
>* ”非“运算符：取反，1变成0，0变成1；


>
> * ”异或“运算符：用符号 XOR 或 ^ 表示。两个操作数进行异或运算时，对于同一位上，如果相同为0，不同则为1。
>
>   ```java
> 0 ^ 0 = 0;
>   1 ^ 0 = 1;
>   1 ^ 1 = 0;
>   ```
>
>   性质：
>   
>   * 任何数，与自己异或运算，结果为0。 a^a=0。
>   * 任何数，与0做异或运算，结果不变。 a^0=a。
>   * 满足交换律和结合律。(a^b)^a=(a^a)^b=0^b=b。
>   * 根据以上可得，自反性。a^b^b=a。a与b做两次异或运算，可得原始数据a。

所以，将所有的数进行XOR运算，可以得到只出现一次的数字

```java
    public int singleNumber(int[] nums) {
        int res = 0;
        for (int num : nums) {
            res = res ^ num;
        }
        return res;
    }
```



题目链接：[LeetCode No.136. 只出现一次的数字](https://leetcode-cn.com/problems/single-number/)

